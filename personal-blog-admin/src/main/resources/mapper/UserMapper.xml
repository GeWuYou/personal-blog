<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gewuyou.blog.admin.mapper.UserMapper">
    <update id="updatePasswordByEmail">
        update tb_user
        set pass_word = #{password}
        where email = #{email}
    </update>


    <select id="selectByUserName" resultType="com.gewuyou.blog.common.model.User">
        select user_id,
               user_name,
               nick_name,
               pass_word,
               email,
               login_type,
               status,
               avatar,
               ip_source,
               last_ip,
               create_time,
               update_time,
               last_login_time
        from tb_user
        where tb_user.user_name = #{userName}
    </select>
    <select id="selectByEmail" resultType="com.gewuyou.blog.common.model.User">
        select user_id,
               user_name,
               nick_name,
               pass_word,
               email,
               login_type,
               status,
               avatar,
               ip_source,
               last_ip,
               create_time,
               update_time,
               last_login_time
        from tb_user
        where tb_user.user_name = #{email}
    </select>
</mapper>
